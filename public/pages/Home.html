<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Librería Escolar</title>

    <link rel="stylesheet" href="/css/Home/Home.css" />
    <!--Menu-bar-->
    <link rel="stylesheet" href="/css/Home/menu-bar.css" />
    <!--Contenido-central-->
    <link
      rel="stylesheet"
      href="/css/Home/contenido-central/contenido-central.css"
    />
    <link rel="stylesheet" href="/css/Home/contenido-central/inicio.css" />
    <link rel="stylesheet" href="/css/Home/contenido-central/categorias.css" />
    <!--Order-section-->
    <link rel="stylesheet" href="/css/Home/order-section/order-section.css" />
    <link rel="stylesheet" href="/css/Home/order-section/info-usuario.css" />
    <style>
      .productos-seccion {
        margin-top: 20px;
      }

      .productos-container {
        display: flex;
        flex-wrap: wrap;
        gap: 20px; /* Espacio entre las imágenes */
      }

      .producto {
        border: 1px solid #ccc;
        border-radius: 8px;
        padding: 10px;
        width: 150px; /* Ancho de cada producto */
        text-align: center;
      }

      .producto img {
        max-width: 100%;
        border-radius: 5px;
      }
    </style>
  </head>

  <body>
    <!---------------------------------------------------------------menu-bar-------------------------------------------------------------------------------->
    <nav class="menu-bar">
      <header>
        <div class="header-content">
          <div class="logo">LE</div>

          <div class="titulo">
            <div class="negocio">Librería</div>
            <div class="nombre">Escolar</div>
          </div>
        </div>
        <button id="toggle-sidebar-button">
          <img
            src="/ico/toggle-sidebar-button.svg"
            alt="Icono Minimizar/Agrandar"
          />
        </button>
      </header>

      <div class="menu-navigation">
        <ul class="menu-links">
          <li class="nav-link">
            <a href="#inicio" onclick="mostrarContenido('inicio')">
              <div class="link-content">
                <img
                  class="nav-logo"
                  src="/ico/inicio.svg"
                  alt="Icono de Inicio"
                />
                <span class="nav-text">Inicio</span>
              </div>
            </a>
          </li>
          <li class="nav-link">
            <a href="#categorias" onclick="mostrarContenido('categorias')">
              <div class="link-content">
                <img
                  class="nav-logo"
                  src="/ico/categoria.jpg"
                  alt="Icono de Categorías"
                />
                <span class="nav-text">Categorías</span>
              </div>
            </a>
          </li>
          <li class="nav-link">
            <a href="#sesion" onclick="mostrarContenido('sesion')">
              <div class="link-content">
                <img
                  class="nav-logo"
                  src="/ico/cesion.svg"
                  alt="Icono de Sesión"
                />
                <span class="nav-text">Sesión</span>
              </div>
            </a>
          </li>
        </ul>
      </div>
    </nav>

    <!-----------------------------------------------------------contenido-central--------------------------------------------------------------------------->

    <div class="contenido-central">
      <!-----------------------Contenido de Inicio------------------------->

      <div id="inicio" class="contenido-seccion">
        <h2>Bienvenido al sistema de gestión de la Librería Escolar</h2>
        <p>
          Este sistema te permite gestionar las diferentes actividades
          relacionadas con la librería, incluyendo el registro de pedidos,
          historial y la gestión de categorías.
        </p>
      </div>

      <!----------------------Contenido de Categorías------------------------->

      <div id="categorias" class="contenido-seccion oculto">
        <h2>Categorías</h2>
        <p>
          Aquí puedes ver las diferentes categorías de materiales disponibles en
          la librería escolar.
        </p>

        <!-- Formulario de búsqueda -->
        <form id="buscar-categoria" action="#" method="GET">
          <input
            type="text"
            placeholder="Buscar categoría..."
            name="categoria"
          />
          <button type="submit">Buscar</button>
        </form>

        <nav class="horizontal-menu">
          <ul>
            <li><a href="#">Libros de Texto</a></li>
            <li><a href="#">Útiles Escolares</a></li>
            <li><a href="#">Papelería</a></li>
            <li><a href="#">Arte y Manualidades</a></li>
            <li><a href="#">Tecnología</a></li>
          </ul>
        </nav>

        <!-- Resultados de búsqueda -->
        <div id="resultados-busqueda">
          <h3>Resultados de la Búsqueda:</h3>
          <ul id="lista-resultados">
            <!-- Aquí se agregarán los resultados de búsqueda -->
          </ul>
        </div>

        <!-- Sección de productos -->
        <div id="productos" class="productos-seccion oculto">
          <h3>Productos</h3>
          <div class="productos-container">
            <!-- Los productos se agregarán aquí dinámicamente -->
          </div>
        </div>
      </div>

      <!----------------------Contenido de Sesión-------------------------->

      <div id="sesion" class="contenido-seccion oculto">
        <h2>Sesión</h2>
        <p>Gestiona la sesión actual y cambia de usuario si es necesario.</p>
        <button onclick="cerrarSesion()">Cerrar sesión</button>
      </div>
    </div>

    <!--Menu-bar-->
    <script src="/js/Home/menu-bar.js"></script>
    <!--Contenido-central-->
    <script src="/js/Home/contenido-central/categorias.js"></script>

    <!--Order-section-->
    <script src="/js/Home/order-section/info-usuario.js"></script>
    <script src="/js/Home/order-section/ordenes-total.js"></script>
    <script>
      document
        .getElementById("buscar-categoria")
        .addEventListener("submit", function (event) {
          event.preventDefault();
          const categoriaBuscada = event.target.categoria.value.toLowerCase();
          const listaCategorias = [
            { nombre: "libros de texto", imagen: "/path/to/libros.jpg" },
            { nombre: "útiles escolares", imagen: "/path/to/utiles.jpg" },
            { nombre: "papelería", imagen: "/path/to/papeleria.jpg" },
            { nombre: "arte y manualidades", imagen: "/path/to/arte.jpg" },
            { nombre: "tecnología", imagen: "/path/to/tecnologia.jpg" },
          ];

          const resultados = listaCategorias.filter((categoria) =>
            categoria.nombre.toLowerCase().includes(categoriaBuscada)
          );

          // Mostrar resultados
          const listaResultados = document.getElementById("lista-resultados");
          listaResultados.innerHTML = ""; // Limpiar resultados anteriores

          if (resultados.length > 0) {
            resultados.forEach((categoria) => {
              const li = document.createElement("li");
              li.textContent = categoria.nombre;
              listaResultados.appendChild(li);

              // Mostrar productos
              const productosContainer = document.querySelector(".productos-container");
              productosContainer.innerHTML = ""; // Limpiar productos anteriores

              const productoDiv = document.createElement("div");
              productoDiv.className = "producto";
              productoDiv.innerHTML = `
                <img src="${categoria.imagen}" alt="${categoria.nombre}" />
                <p>${categoria.nombre}</p>
              `;
              productosContainer.appendChild(productoDiv);
            });
            // Mostrar sección de productos
            document.getElementById("productos").classList.remove("oculto");
          } else {
            listaResultados.innerHTML = "<li>No se encontraron categorías.</li>";
            // Ocultar sección de productos si no hay resultados
            document.getElementById("productos").classList.add("oculto");
          }
        });
    </script>
  </body>
</html>
